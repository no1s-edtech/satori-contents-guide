# マークダウン学習コンテンツのファイル構成ガイド

マークダウンで学習コンテンツを作成する際のファイル構成とネーミング規則について説明します。

---

## 概要

学習コンテンツは、**コース** → **ブック** → **チャプター** → **ページ** の階層構造で構成されます。

- **チャプター、ページのシーケンス**：システムで自動採番
- **シーケンス付きの場合**：ファイル名に含まれるシーケンス番号の順番に並べる
- **シーケンスなしの場合**：ファイル名を昇順に並べて採番

シーケンスの順番は、最初にチャプターをソートし、その後チャプターフォルダ内のページをソートして決定します。

---

## コースについて

**コース**は、複数のブックから構成される一連の学習の流れを指します。

### コースの特性

- **複数ブック構成**：1つのコースは複数のブックで構成されます
- **言語統一**：基本的に1つのコースは同じ言語で表記されるべきです
- **学習フロー**：段階的な学習を実現するための統合的な構成

### 例

- コース「JavaScript基礎」
  - ブック「JavaScript_lv.1-ja」（初級）
  - ブック「JavaScript_lv.2-ja」（中級）
  - ブック「JavaScript_lv.3-ja」（上級）

---

## ブックについて

**ブック**は、テキストを構成する最小単位です。1つのブックには複数の章（チャプター）が含まれます。

### ブックの特性

- **言語単位**：1つのブックは1つの言語で記載されます
- **翻訳時の扱い**：コンテンツを翻訳した場合は、別のブックとして扱われます
- **複数コース利用**：1つのブックは複数のコースで使用されることがあります
- **独立性**：各ブックは独立した学習単位として機能します

### 例

- 日本語版：`JavaScript_lv.1-ja`
- 英語版：`JavaScript_lv.1-en`
- 韓国語版：`JavaScript_lv.1-ko`

上記は同じコースの異なる言語版ですが、それぞれ独立したブックとなります。

---

## ネーミング規則

### ブックフォルダの命名

```
JavaScript_lv.1-ja
JavaScript_lv.1-jr-ja
```

**ルール：**
- 最後に2文字の言語コードを付与（例：`-ja`、`-en`、`-ko`）

### チャプターフォルダの命名

```
(シーケンス)_(pages.chapter_slug) または (pages.chapter_slug)
```

**例：**
- `100_chapter01`
- `1_console`
- `chapter01`
- `basic`

### ページファイルの命名

```
(シーケンス)_(pages.page_slug).md または (pages.page_slug).md
```

**例：**
- `1010_work01.md`
- `1_easy-calculation1.md`
- `page_001.md`
- `persona.md`

---

## URLの生成ルール

ファイル名に含まれるシーケンス番号は、ファイルの順序決定に使用されますが、**URL には反映されません**。URL には、スラグ部分のみが使用されます。

### URL生成の例

**ファイル構成：**
```
JavaScript_lv.1-ja/
├── 100_chapter01/
│   ├── 1030_work03.md
```

**生成されるURL：**
```
/chapter01/work03
```

**ルール：**
- シーケンス番号（`100_`、`1030_`）は URL に含まれない
- スラグ部分（`chapter01`、`work03`）のみが URL に反映される
- チャプターフォルダ名のスラグ + ページファイル名のスラグ = URL パス

### 別の例

**ファイル構成：**
```
JavaScript_lv.1-ja/
├── 1_console/
│   ├── 2_multi-lines.md
```

**生成されるURL：**
```
/console/multi-lines
```

---

## ファイル構成パターン

### パターン1：シーケンス（3桁）＋スラグ

```
JavaScript_lv.1-ja/
├── index.md                    ※ ブックのトップ
├── 100_chapter01/
│   ├── index.md                ※ チャプターのトップ
│   ├── 1010_work01.md
│   ├── 1020_work02.md
│   └── 1030_work03.md
├── 200_chapter02/
│   ├── index.md
│   ├── 2010_work01.md
│   └── 2020_work02.md
```

### パターン2：シーケンス（1桁）＋スラグ

```
JavaScript_lv.1-ja/
├── index.md                    ※ ブックのトップ
├── 1_console/
│   ├── index.md                ※ チャプターのトップ
│   ├── 1_console.md
│   ├── 2_multi-lines.md
│   └── 3_comments.md
├── 2_calculation/
│   ├── index.md
│   ├── 1_easy-calculation1.md
│   ├── 2_easy-calculation2.md
│   └── 3_advanced-calculation.md
├── 3_functions/
│   ├── index.md
│   ├── 1_function-basics.md
│   └── 2_arrow-functions.md
```

### パターン3：スラグのみ

```
JavaScript_lv.1-ja/
├── index.md                    ※ ブックのトップ
├── advance/
│   ├── index.md                ※ チャプターのトップ
│   ├── persona.md
│   ├── sales-talk.md
│   └── use-case.md
├── basic/
│   ├── index.md
│   ├── how-to.md
│   ├── setup.md
│   └── first-step.md
```

---

## 各ファイルの役割

### ブック用 index.md

- **位置**：ブックフォルダの直下
- **役割**：ブック全体のカバーページ
- **フロントマター**：ブック用のメタデータを記載
  - `title`：ブックのタイトル
  - `description`：ブックの概要
  - `displayLanguage`：言語（`ja`、`en`、`ko`）
  - `difficulty`：難易度（1～5）
  - `duration`：所要時間（分）

### チャプター用 index.md

- **位置**：チャプターフォルダの直下
- **役割**：チャプター全体のトップページ
- **フロントマター**：ページ用のメタデータを記載
  - `title`：チャプターのタイトル
  - `slug`：チャプターの識別子
  - `description`：チャプターの概要
  - `type`：`explain`、`work`、`exercise`、`practice`、`column` など

### ページファイル

- **位置**：チャプターフォルダ内
- **役割**：個別の学習ページ
- **フロントマター**：ページ用のメタデータを記載
  - `title`：ページのタイトル
  - `slug`：ページの識別子
  - `description`：ページの概要
  - `type`：コンテンツタイプ
  - `difficulty`：難易度
  - `duration`：所要時間

---

## メディアファイルの取り扱い

### 画像、GIF、動画について

- **保存場所**：インターネット上に用意（システム側で管理）
- **本文での記載**：HTTPS で始まる URL で表記

**例：**
```markdown
![代替テキスト](https://example.com/images/sample.jpg)
```

### システム側の処理

- 取り込み時に、URL から画像ファイルを読み込む
- ローカルファイルとしての管理は不要

---

## ネーミング規則の選択ガイド

| パターン | 用途 | メリット | デメリット |
|---------|------|---------|----------|
| **3桁シーケンス** | 大規模コース（100以上のページ） | 階層的に整理可能、スケーラブル | ファイル名が長い |
| **1桁シーケンス** | 中規模コース（10～100ページ） | バランスが良い、読みやすい | 10以上のチャプターでは不十分 |
| **スラグのみ** | 小規模コース（10ページ以下） | シンプル、わかりやすい | 順序変更時に手動で対応が必要 |

---

## 実装上の注意点

1. **一貫性**：同じコース内では、1つのパターンに統一する
2. **スラグの命名**：わかりやすく、URL に適した形式（ハイフン区切り、小文字）
3. **シーケンス番号**：採番後は変更しない（システムの自動採番に任せる）
4. **フロントマター**：必須項目は必ず記載（`title`、`slug`、`description`、`type`）
5. **言語コード**：ブックフォルダ名に必ず言語コードを付与

---

**このガイドに従ってコンテンツを作成してください。ご不明な点があれば、お問い合わせください。**
